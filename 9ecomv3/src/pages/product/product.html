<!--
  Generated template for the Product page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    
    <div>{{product.name}}</div>
    <ion-buttons end> 
       
      <button class="heart-button" ion-button icon-only [class.wish]="product.love" (tap)="loveIt()">
        <ion-icon name="heart"></ion-icon>
      </button> 
      <!--      
        <button ion-button icon-only (tap)="goCart()">
        <ion-icon name="cart"></ion-icon>
        <ion-badge *ngIf="cart.count()>0" class="cart-badge" color="secondary">{{cart.count()}}</ion-badge>
      </button>
      -->

    </ion-buttons>
  </ion-navbar>
</ion-header>


<ion-content class="page-product">
  <ion-slides #sliders class="product-slider" pager>
    <ion-slide pager = "true" parallax = "true">
      <div class="product-wrapper">
        <img [src]="product.image1"/> 
      </div>
    </ion-slide>
  </ion-slides>
  <div class="product-detail-wrapper">
    <div class="product-rating" (tap)="goToReview()"><rating rating="{{product.rating}}" cCount="{{product.customerCount}}"></rating></div>
      
    <div class="title">
      {{product.name}}
    </div>
     <div class="company">
      {{product.company_name}}
    </div>
    <div class="company">
      Left : {{product.quant}}
    </div>
   

    <div class="price-wrapper" *ngIf="product.price != 0">
      
      <div class="sale-price">
         {{product.currentPrice}} LE
      </div> 
      <div class="old-price"> 
        <!-- put here the price of the discount 'if there is a discount on this item' -->
         {{product.price}} LE
      </div>
      <h5>
      </h5>
    </div>
    <div class="price-wrapper" *ngIf="product.price == 0">
      
      <div class="sale-price">
         {{product.currentPrice}} LE
 
      </div> 

    </div>

 
    <div class="tabs-wrapper" >
      <div class="tabs-round" *ngIf="viewNum == '0' ">
        <div  class="tab-selected-des">
          <button ion-button clear (tap)="changeView('0')" >Description</button>
        </div>
        <div  class="tab-notselected-spec">
            <button ion-button clear (tap)="changeView('1')" >Specefication</button>
          </div>
          <div  class="tab-notselected-rev">
            <button ion-button clear (tap)="changeView('2')" >Reviews</button>
          </div>
      </div>
      <div  class="tabs-round" *ngIf="viewNum == '1'">
        <div  class="tab-notselected-des">
            <button ion-button clear (tap)="changeView('0')" >Description</button>
          </div>
        <div class="tab-selected-spec">
          <button ion-button clear (tap)="changeView('1')" >Specefication</button>
        </div>
        <div  class="tab-notselected-rev">
          <button ion-button clear (tap)="changeView('2')" >Reviews</button>
        </div>
    </div>
      <div  class="tabs-round" *ngIf="viewNum == '2'">
          <div  class="tab-notselected-des">
              <button ion-button clear (tap)="changeView('0')" >Description</button>
            </div>
          <div class="tab-notselected-spec">
            <button ion-button clear (tap)="changeView('1')" >Specefication</button>
          </div>
          <div  class="tab-selected-rev">
            <button ion-button clear (tap)="changeView('2')" >Reviews</button>
          </div>
      </div>
      
    </div> 
   
 
    <!--
    <div *ngIf="product.sizes.length > 0" class="size-wrapper">
      <span *ngFor="let oSize of product.sizes; let i = index;">
        <button class="size-button" ion-button round small outline [class.checked]="size[i]" (click)="clearSize(i)">{{oSize}}</button>
      </span>
    </div> -->
    <div class="description" *ngIf="viewNum == '0'">
      <!-- <div class="description-title">
        Full Description
      </div> -->
      
        <p>{{product.description}}</p> 
    </div>
    <div class="specs" *ngIf="viewNum == '1'">
        <ul class="specs-row">
            <li class="specs-col">Height: {{product.specs.height}}</li>
            <li class="specs-col">Length: {{product.specs.length}}</li>
            <li class="specs-col">weight: {{product.specs.weight}} </li>
            <li class="specs-col">width: {{product.specs.width}} </li>
          </ul>
     
    </div>
    <div class="reviews" *ngIf="viewNum == '2'">
      <div *ngIf="reviewsReady">

          <ion-card *ngFor="let item of reviews">

              <ion-item >
                <h2>{{item.writerName}}</h2>
                <p>{{item.creationDate}}</p>
              </ion-item>

              <ion-card-content>
                <h3>{{item.reviewTitle}}</h3>
                <p>{{item.reviewBody}}</p>
              </ion-card-content>
            
              
            
            </ion-card>

      </div>
    </div>

  </div>
</ion-content>
<ion-footer>
  <div class="footer">
    <div class="button-left">
      <button ion-button full clear (tap)="quantityPopOver()">{{currentQty}}</button>
      <ion-item class="quantity-select">
        <ion-label>Quantity</ion-label>   
      </ion-item>
    </div>
    <div class="button-right">
      <button ion-button full clear (tap)="add2Cart()">Add to Cart</button>
    </div> 
    </div>
</ion-footer>