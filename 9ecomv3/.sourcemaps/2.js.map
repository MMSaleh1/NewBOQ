{"version":3,"sources":["../../src/pages/categories/categories.module.ts","../../src/components/scrolltabs/index.ts","../../src/components/scrolltabs/scrolltabs.ts","../../src/components/scrolltabs/scrolltabs.module.ts","../../src/pages/categories/categories.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ByCategoryPipe, CategoriesPage } from './categories';\nimport { ScrollTabsComponentModule } from '../../components/scrolltabs';\n\n@NgModule({\n  declarations: [\n    CategoriesPage,\n    ByCategoryPipe,\n  ],\n  imports: [\n    ScrollTabsComponentModule,\n    IonicPageModule.forChild(CategoriesPage),\n  ],\n  exports: [\n    CategoriesPage\n  ]\n})\nexport class CategoriesModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/categories/categories.module.ts","export { ScrollTabsComponentModule } from './scrolltabs.module';\nexport { ScrollTabsComponent } from './scrolltabs';\nexport { IScrollTab } from './scrolltab';\n\n\n// WEBPACK FOOTER //\n// ./src/components/scrolltabs/index.ts","import { Component, ViewChild, AfterViewChecked, Input, OnChanges, SimpleChange, Output, EventEmitter } from '@angular/core';\nimport { Scroll } from 'ionic-angular';\n\n/*\n  Generated class for the Scrolltabs component.\n\n  See https://angular.io/docs/ts/latest/api/core/index/ComponentMetadata-class.html\n  for more info on Angular 2 Components.\n*/\n@Component({\n  selector: 'scroll-tabs',\n  templateUrl: 'scrolltabs.html'\n})\nexport class ScrollTabsComponent implements OnChanges, AfterViewChecked {\n  @Input('tabs') tabs;\n  @ViewChild('scrollTab') scroll: Scroll;\n  @Output() onSelectedTab = new EventEmitter();\n  position: number = 0;\n  currentTab: any;\n  constructor() {\n\n  }\n\n  ngOnChanges(changes: { [propName: string]: SimpleChange }) {\n    // Todo: update necessary info\n  }\n\n  ngAfterViewChecked() {\n\n  }\n  \n  ngAfterViewInit() {\n    if (this.tabs) {\n      if (this.tabs.length > 0) {\n        this.tabs.forEach(tab => {\n          if (tab.selected) {\n            this.selectTab(tab);\n          }\n        });\n      }\n    }\n  }\n\n  tabChange(tab) {\n    this.tabs.forEach(tab => {\n      if (tab.selected) {\n        tab.selected = false;\n      }\n    });\n    tab.selected = true;\n    this.currentTab = tab;\n    this.selectTab(tab);\n  }\n\n  private selectTab(tab) {\n    var prevPosition = this.position | 0;\n    var pos = -1;\n    for (var i = 0; i < this.tabs.length; i++) {\n      if (this.tabs[i].selected) {\n        pos = i;\n        this.position = i;\n      }\n    }\n\n    setTimeout(() => {\n      const widthOfItem = 63;\n      let scrollTo = 0;\n      if (pos > 0 && pos > prevPosition) {\n        scrollTo = pos * widthOfItem;\n      } else if (pos > 0 && pos < prevPosition) {\n        scrollTo = (prevPosition * widthOfItem) - ((prevPosition - pos) * widthOfItem);\n      } else if (pos === prevPosition) {\n        scrollTo = pos * widthOfItem;\n      } else if (pos === 0) {\n        scrollTo = 0;\n      }\n      let content = this.scroll._scrollContent.nativeElement;\n      content.scrollLeft = scrollTo;\n      this.onSelectedTab.emit({ selectedTab: tab });\n    }, 150);\n  }\n\n  currentIndex(): number {\n    return this.position;\n  }\n\n  go2Tab(pos: number) {\n    if (pos >= 0 && pos < this.tabs.length) {\n      this.tabChange(this.tabs[pos]);\n    }\n  }\n\n  nextTab(): void {\n    if (this.position < (this.tabs.length - 1)) {\n      this.tabChange(this.tabs[this.position + 1])\n    }\n  }\n  prevTab(): void {\n    if (this.position > 0) {\n      this.tabChange(this.tabs[this.position - 1])\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/scrolltabs/scrolltabs.ts","import { NgModule } from '@angular/core';\nimport { IonicModule } from 'ionic-angular';\n\nimport { ScrollTabsComponent } from './scrolltabs';\n\n@NgModule({\n\timports: [\n\t\tIonicModule\n\t],\n\tdeclarations: [\n\t\tScrollTabsComponent\n\t],\n\texports: [\n\t\tScrollTabsComponent\n\t]\n})\nexport class ScrollTabsComponentModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/scrolltabs/scrolltabs.module.ts","import { Component, ViewChild, Pipe, PipeTransform } from '@angular/core';\nimport { IonicPage, NavController, NavParams, MenuController, ModalController, Content } from 'ionic-angular';\nimport { IScrollTab, ScrollTabsComponent } from '../../components/scrolltabs';\nimport { Category, Product, Database } from '../../providers/database';\n\n@Pipe({ name: 'byCategory' })\nexport class ByCategoryPipe implements PipeTransform {\n  transform(products: Product[], category: Category) {\n    return products.filter(product => {\n      return product.categories.indexOf(category) >= 0;\n    });\n  }\n}\n\n/**\n * Generated class for the Categories page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-categories',\n  templateUrl: 'categories.html',\n})\nexport class CategoriesPage {\n  tabs: IScrollTab[] = [];\n  selectedTab: IScrollTab;\n  db: Database;\n  products: Product[];\n  categories: Category[] = Array<Category>();\n  menus: Category = new Category();\n  show: boolean = true;\n  @ViewChild('scrollTab') scrollTab: ScrollTabsComponent;\n  @ViewChild(Content) content: Content;\n  constructor(public navCtrl: NavController, public navParams: NavParams, private menu: MenuController, private modalCtrl: ModalController) {\n  }\n\n  ionViewDidEnter() {\n    this.menu.swipeEnable(false, 'ecom9');\n    this.show = true;\n  }\n\n  ionViewWillLeave() {\n    this.menu.swipeEnable(true, 'ecom9');\n    this.show = false;\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CategoriesPage');\n    this.db = Database.getInstance();\n    this.products = this.db.allProduct();\n    var detail = this.navParams.get('select');\n    this.menus = this.navParams.get('menus');\n    if (this.menus) {\n      //this.categories = this.menus.children;\n     // this.menus.children.forEach(menu => {\n        //this.tabs.push({ name: menu.name });\n      //});\n\n      for (var i = 0; i < this.tabs.length; i++) {\n        if (this.tabs[i].name.toLowerCase() === detail.toLowerCase()) {\n          this.scrollTab.go2Tab(i);\n        }\n      }\n    }\n  }\n\n  tabChange(data: any) {\n    this.selectedTab = data.selectedTab;\n    this.content.scrollToTop();\n  }\n\n  swipeEvent($e) {\n    console.log('before', $e.direction);\n    switch ($e.direction) {\n      case 2: // left\n        this.scrollTab.nextTab();\n        break;\n      case 4: // right\n        this.scrollTab.prevTab();\n        break;\n    }\n  }\n\n  filterModal() {\n    let modal = this.modalCtrl.create('FilterModalPage', { products: this.products });\n    modal.onDidDismiss(data => {\n      if (data) {\n        console.log(data);\n        this.products = data.products;\n      }\n    });\n    modal.present();\n  }\n\n  toProduct(prod: Product) {\n    this.navCtrl.push('ProductPage', { product: prod });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/categories/categories.ts"],"sourceRoot":""}