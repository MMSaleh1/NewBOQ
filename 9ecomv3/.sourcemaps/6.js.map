{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { ProfilePage } from './profile';\r\nimport { ScrollTabsComponentModule } from '../../components/scrolltabs';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    ProfilePage,\r\n  ],\r\n  imports: [\r\n    ScrollTabsComponentModule,\r\n    IonicPageModule.forChild(ProfilePage),\r\n  ],\r\n  exports: [\r\n    ProfilePage\r\n  ]\r\n})\r\nexport class ProfileModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component, ViewChild } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, MenuController } from 'ionic-angular';\r\nimport { IScrollTab, ScrollTabsComponent } from '../../components/scrolltabs';\r\nimport { WishProduct, CartProduct, Order, Address, Cart, Database } from '../../providers/database'\r\n/**\r\n * Generated class for the Profile page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-profile',\r\n  templateUrl: 'profile.html',\r\n})\r\nexport class ProfilePage {\r\n  tabs: IScrollTab[] = [\r\n    {\r\n      name: 'Profile',\r\n      selected: true\r\n    },\r\n    {\r\n      name: 'My orders',\r\n    },\r\n    {\r\n      name: 'Wishlist',\r\n    },\r\n    {\r\n      name: 'Saved Address',\r\n    },\r\n  ];\r\n  selectedTab: IScrollTab;\r\n  @ViewChild('scrollTab') scrollTab: ScrollTabsComponent;\r\n  db: Database;\r\n  savedAddresses: Address[];\r\n  wishProducts: WishProduct[];\r\n  orders: Order[];\r\n  cart: Cart;\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private menu: MenuController) {\r\n    this.selectedTab = this.tabs[0];\r\n    this.db = Database.getInstance();\r\n    this.cart = Cart.getInstance();\r\n    this.savedAddresses = this.db.allSavedAdddress();\r\n    this.wishProducts = this.db.allWishList();\r\n    this.orders = this.db.allOrders();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.menu.swipeEnable(false, 'ecom9');\r\n    var detail = this.navParams.get('detail');\r\n    console.log(detail);\r\n    if (detail) {\r\n      for (var i = 0; i < this.tabs.length; i++) {\r\n        if (this.tabs[i].name.toLowerCase() === detail.toLowerCase()) {\r\n          this.scrollTab.go2Tab(i);\r\n          this.navParams.data.detail = undefined;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    console.log('ionViewDidLoad CategoriesPage');\r\n  }\r\n\r\n  tabChange(data: any) {\r\n    this.selectedTab = data.selectedTab;\r\n  }\r\n\r\n  swipeEvent($e) {\r\n    console.log('before', $e.direction);\r\n    switch ($e.direction) {\r\n      case 2: // left\r\n        this.scrollTab.nextTab();\r\n        break;\r\n      case 4: // right\r\n        this.scrollTab.prevTab();\r\n        break;\r\n    }\r\n  }\r\n\r\n  editAddress(addr: Address) {\r\n\r\n  }\r\n\r\n  removeAddress(addr: Address) {\r\n    this.db.removeSavedAddress(addr);\r\n  }\r\n\r\n  add2Cart(wish: WishProduct) {\r\n    let cp: CartProduct;\r\n    cp = {\r\n      product: wish.product,\r\n      quantity: 1,\r\n      color: wish.color,\r\n      size: wish.size,\r\n    };\r\n\r\n    let flgFound = false;\r\n    this.cart.products.forEach(item => {\r\n      if (item.product.id === cp.product.id) {\r\n        flgFound = true;\r\n        item.quantity = parseInt(item.quantity.toString()) + parseInt(cp.quantity.toString());\r\n      }\r\n    })\r\n    if (!flgFound) {\r\n      this.cart.products.push(cp); \r\n    }\r\n  }\r\n\r\n  removeWish(wish: WishProduct) {\r\n    this.db.removeWish(wish);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}