{"version":3,"sources":["../../src/pages/profile/profile.module.ts","../../src/pages/profile/profile.ts"],"names":[],"mappings":"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","file":"10.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ProfilePage } from './profile';\nimport { ScrollTabsComponentModule } from '../../components/scrolltabs';\n\n@NgModule({\n  declarations: [\n    ProfilePage,\n  ],\n  imports: [\n    ScrollTabsComponentModule,\n    IonicPageModule.forChild(ProfilePage),\n  ],\n  exports: [\n    ProfilePage\n  ]\n})\nexport class ProfileModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.module.ts","import { Component, ViewChild } from '@angular/core';\nimport {App, IonicPage, NavController, NavParams, MenuController } from 'ionic-angular';\nimport { IScrollTab, ScrollTabsComponent } from '../../components/scrolltabs';\nimport { Storage} from '@ionic/storage';\nimport { Database } from '../../providers/database';\nimport { Cart,CartProduct} from '../../providers/cart/cart';\nimport { User , Address ,UsersProvider} from '../../providers/users/users';\nimport { Product } from '../../providers/product/product';\nimport { OrderData } from '../../providers/order/order';\n/**\n * Generated class for the Profile page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n\n@Component({\n  selector: 'page-profile',\n  templateUrl: 'profile.html',\n})\nexport class ProfilePage { \n\n  u : any;\n  tabs: IScrollTab[] = [\n    {\n      name: 'Profile',\n      selected: true\n    },\n    {\n      name: 'My orders',\n    },\n    {\n      name: 'Wishlist',\n    },\n    {\n      name: 'Saved Address',\n    },\n  ]; \n\n  quantity : number = 1;\n  selectedTab: IScrollTab;\n  @ViewChild('scrollTab') scrollTab: ScrollTabsComponent;\n  db: Database;\n  savedAddresses: Address[];\n  wishProducts: Product[]; \n  userarray : any =  [];\n  orders: OrderData[];\n  cart: Cart; \n  user : User;\n  \n  // this a flag to show the user is exists or not to show his data in the profile\n  constructor(public navCtrl: NavController\n    , public navParams: NavParams\n    , private menu: MenuController\n    , public userProv : UsersProvider\n    , public storage: Storage\n    , public app: App\n  ) {\n    this.selectedTab = this.tabs[0];\n    this.db = Database.getInstance();\n    this.cart = Cart.getInstance();\n    this.user = this.userProv.getUser();\n    this.savedAddresses = this.user.addresses;\n    this.wishProducts = this.db.allWishList(); \n    this.orders = this.db.allOrders();  \n    console.log(this.user);\n    \n  }\n\n  /*  \n  ionViewDidEnter() {\n    this.menu.swipeEnable(false, 'ecom9');\n    var detail = this.navParams.get('user');\n    console.log(detail);\n    if (detail) {\n      for (var i = 0; i < this.tabs.length; i++) {\n        if (this.tabs[i].name.toLowerCase() === detail.toLowerCase()) {\n          this.scrollTab.go2Tab(i);\n          this.navParams.data.detail = undefined;\n        }\n      }\n    }\n  }\n  */\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad CategoriesPage');\n  }\n\n  tabChange(data: any) {\n    this.selectedTab = data.selectedTab;\n  }\n\n  swipeEvent($e) {\n    //console.log('before', $e.direction);\n    switch ($e.direction) {\n      case 2: // left\n        this.scrollTab.nextTab();\n        break;\n      case 4: // right\n        this.scrollTab.prevTab();\n        break;\n    }\n  }\n\n  editAddress(addr: Address) {\n\n  }\n\n  removeAddress(addr: Address) {\n    this.userProv.removeAddress(addr);\n  }\n\n  add2Cart(wish: Product) {\n    let cp: CartProduct;\n    cp = {\n      product: wish,\n      quantity: 1,\n     // color: wish.color,\n     // size: wish.size,\n    };\n    let flgFound = false;\n    console.log(wish);\n    this.cart.products.forEach(Wish => {\n      if (Wish.product.id === cp.product.id) {\n        flgFound = true;   \n        if(Wish.quantity >= wish.quant) \n        {\n          Wish.quantity = wish.quant;\n          cp.quantity = 0;\n        }else if(Wish.quantity < 0) \n        {\n          Wish.quantity = 0; \n        }\n        \n       \n        Wish.quantity = parseInt(Wish.quantity.toString()) + parseInt(cp.quantity.toString());\n      }\n    })\n    if (!flgFound) {\n      this.cart.products.push(cp);  \n    } \n    \n  }\n\n  removeWish(wish: Product) {\n    this.db.removeWish(wish);\n  }\n  signOut(){\n      this.storage.remove('user');\n      if(this.app.getActiveNavs()!= undefined &&this.app.getActiveNavs().length >0)\n      {\n        const root = this.app.getRootNavs()[0];\n        root.setRoot('SigninPage')\n        root.popToRoot();\n       \n      }\n     \n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/profile/profile.ts"],"sourceRoot":""}